<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: ulTaskNotifyTakeIndexed</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group__ul_task_notify_take_indexed.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">ulTaskNotifyTakeIndexed</div></div>
</div><!--header-->
<div class="contents">
<p>task. h </p><div class="fragment"><div class="line">uint32_t <a class="code hl_define" href="task_8h.html#a4f42982425f3b106e1a9f19b41ba4124">ulTaskNotifyTakeIndexed</a>( <a class="code hl_typedef" href="portmacro_8h.html#ad4fffded697af86f1620d1b83d5bc8c1">UBaseType_t</a> uxIndexToWaitOn, <a class="code hl_typedef" href="portmacro_8h.html#a7fbacca283273b74407e956342e2075f">BaseType_t</a> xClearCountOnExit, <a class="code hl_typedef" href="portmacro_8h.html#a83586323ab175c3dfcbd7f4704e09743">TickType_t</a> xTicksToWait );</div>
<div class="line"> </div>
<div class="line">uint32_t <a class="code hl_define" href="task_8h.html#a725a2da114ef870747edd7fd19d77bab">ulTaskNotifyTake</a>( <a class="code hl_typedef" href="portmacro_8h.html#a7fbacca283273b74407e956342e2075f">BaseType_t</a> xClearCountOnExit, <a class="code hl_typedef" href="portmacro_8h.html#a83586323ab175c3dfcbd7f4704e09743">TickType_t</a> xTicksToWait );</div>
<div class="ttc" id="aportmacro_8h_html_a7fbacca283273b74407e956342e2075f"><div class="ttname"><a href="portmacro_8h.html#a7fbacca283273b74407e956342e2075f">BaseType_t</a></div><div class="ttdeci">int8_t BaseType_t</div><div class="ttdef"><b>Definition</b> portmacro.h:62</div></div>
<div class="ttc" id="aportmacro_8h_html_a83586323ab175c3dfcbd7f4704e09743"><div class="ttname"><a href="portmacro_8h.html#a83586323ab175c3dfcbd7f4704e09743">TickType_t</a></div><div class="ttdeci">uint16_t TickType_t</div><div class="ttdef"><b>Definition</b> portmacro.h:66</div></div>
<div class="ttc" id="aportmacro_8h_html_ad4fffded697af86f1620d1b83d5bc8c1"><div class="ttname"><a href="portmacro_8h.html#ad4fffded697af86f1620d1b83d5bc8c1">UBaseType_t</a></div><div class="ttdeci">uint8_t UBaseType_t</div><div class="ttdef"><b>Definition</b> portmacro.h:63</div></div>
<div class="ttc" id="atask_8h_html_a4f42982425f3b106e1a9f19b41ba4124"><div class="ttname"><a href="task_8h.html#a4f42982425f3b106e1a9f19b41ba4124">ulTaskNotifyTakeIndexed</a></div><div class="ttdeci">#define ulTaskNotifyTakeIndexed(uxIndexToWaitOn, xClearCountOnExit, xTicksToWait)</div><div class="ttdef"><b>Definition</b> task.h:3179</div></div>
<div class="ttc" id="atask_8h_html_a725a2da114ef870747edd7fd19d77bab"><div class="ttname"><a href="task_8h.html#a725a2da114ef870747edd7fd19d77bab">ulTaskNotifyTake</a></div><div class="ttdeci">#define ulTaskNotifyTake(xClearCountOnExit, xTicksToWait)</div><div class="ttdef"><b>Definition</b> task.h:3177</div></div>
</div><!-- fragment --><p>Waits for a direct to task notification on a particular index in the calling task's notification array in a manner similar to taking a counting semaphore.</p>
<p>See <a href="https://www.FreeRTOS.org/RTOS-task-notifications.html">https://www.FreeRTOS.org/RTOS-task-notifications.html</a> for details.</p>
<p>configUSE_TASK_NOTIFICATIONS must be undefined or defined as 1 for this function to be available.</p>
<p>Each task has a private array of "notification values" (or 'notifications'), each of which is a 32-bit unsigned integer (uint32_t). The constant configTASK_NOTIFICATION_ARRAY_ENTRIES sets the number of indexes in the array, and (for backward compatibility) defaults to 1 if left undefined. Prior to FreeRTOS V10.4.0 there was only one notification value per task.</p>
<p>Events can be sent to a task using an intermediary object. Examples of such objects are queues, semaphores, mutexes and event groups. Task notifications are a method of sending an event directly to a task without the need for such an intermediary object.</p>
<p>A notification sent to a task can optionally perform an action, such as update, overwrite or increment one of the task's notification values. In that way task notifications can be used to send data to a task, or be used as light weight and fast binary or counting semaphores.</p>
<p><a class="el" href="task_8h.html#a4f42982425f3b106e1a9f19b41ba4124">ulTaskNotifyTakeIndexed()</a> is intended for use when a task notification is used as a faster and lighter weight binary or counting semaphore alternative. Actual FreeRTOS semaphores are taken using the <a class="el" href="semphr_8h.html#af116e436d2a5ae5bd72dbade2b5ea930">xSemaphoreTake()</a> API function, the equivalent action that instead uses a task notification is <a class="el" href="task_8h.html#a4f42982425f3b106e1a9f19b41ba4124">ulTaskNotifyTakeIndexed()</a>.</p>
<p>When a task is using its notification value as a binary or counting semaphore other tasks should send notifications to it using the <a class="el" href="task_8h.html#a53ec0c8b6b8281a3055747813570193c">xTaskNotifyGiveIndexed()</a> macro, or xTaskNotifyIndex() function with the eAction parameter set to eIncrement.</p>
<p><a class="el" href="task_8h.html#a4f42982425f3b106e1a9f19b41ba4124">ulTaskNotifyTakeIndexed()</a> can either clear the task's notification value at the array index specified by the uxIndexToWaitOn parameter to zero on exit, in which case the notification value acts like a binary semaphore, or decrement the notification value on exit, in which case the notification value acts like a counting semaphore.</p>
<p>A task can use <a class="el" href="task_8h.html#a4f42982425f3b106e1a9f19b41ba4124">ulTaskNotifyTakeIndexed()</a> to [optionally] block to wait for a notification. The task does not consume any CPU time while it is in the Blocked state.</p>
<p>Where as <a class="el" href="task_8h.html#a5bcd5a5b7d7c41dd782a38093be1b7c9">xTaskNotifyWaitIndexed()</a> will return when a notification is pending, <a class="el" href="task_8h.html#a4f42982425f3b106e1a9f19b41ba4124">ulTaskNotifyTakeIndexed()</a> will return when the task's notification value is not zero.</p>
<p><b>NOTE</b> Each notification within the array operates independently - a task can only block on one notification within the array at a time and will not be unblocked by a notification sent to any other array index.</p>
<p>Backward compatibility information: Prior to FreeRTOS V10.4.0 each task had a single "notification value", and all task notification API functions operated on that value. Replacing the single notification value with an array of notification values necessitated a new set of API functions that could address specific notifications within the array. <a class="el" href="task_8h.html#a725a2da114ef870747edd7fd19d77bab">ulTaskNotifyTake()</a> is the original API function, and remains backward compatible by always operating on the notification value at index 0 in the array. Calling <a class="el" href="task_8h.html#a725a2da114ef870747edd7fd19d77bab">ulTaskNotifyTake()</a> is equivalent to calling <a class="el" href="task_8h.html#a4f42982425f3b106e1a9f19b41ba4124">ulTaskNotifyTakeIndexed()</a> with the uxIndexToWaitOn parameter set to 0.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uxIndexToWaitOn</td><td>The index within the calling task's array of notification values on which the calling task will wait for a notification to be non-zero. uxIndexToWaitOn must be less than configTASK_NOTIFICATION_ARRAY_ENTRIES. xTaskNotifyTake() does not have this parameter and always waits for notifications on index 0.</td></tr>
    <tr><td class="paramname">xClearCountOnExit</td><td>if xClearCountOnExit is pdFALSE then the task's notification value is decremented when the function exits. In this way the notification value acts like a counting semaphore. If xClearCountOnExit is not pdFALSE then the task's notification value is cleared to zero when the function exits. In this way the notification value acts like a binary semaphore.</td></tr>
    <tr><td class="paramname">xTicksToWait</td><td>The maximum amount of time that the task should wait in the Blocked state for the task's notification value to be greater than zero, should the count not already be greater than zero when <a class="el" href="task_8h.html#a725a2da114ef870747edd7fd19d77bab">ulTaskNotifyTake()</a> was called. The task will not consume any processing time while it is in the Blocked state. This is specified in kernel ticks, the macro <a class="el" href="projdefs_8h.html#a353d0f62b82a402cb3db63706c81ec3f">pdMS_TO_TICKS( value_in_ms )</a> can be used to convert a time specified in milliseconds to a time specified in ticks.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The task's notification count before it is either cleared to zero or decremented (see the xClearCountOnExit parameter). </dd></dl>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
